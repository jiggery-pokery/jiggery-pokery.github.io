function isTrident(){var e=!1;if(navigator){var t=navigator.userAgent;null!=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=!0)}return e}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),function(){"use strict";var c={timings:{LudicrousSpeed:.05,VeryFast:.1,Fast:.15,Normal:.25,Slow:.4,VerySlow:1,GodDamnSlow:2}};c.transitionTime={ForThisItem:c.timings.Slow,Stagger:c.timings.Fast,StaggerInsert:c.timings.Fast},c.transitionDistance={normal:10,far:50},c.settings={slideOut:{x:"-50px",opacity:0},slideIn:{x:"100px",opacity:0},fadeOut:{opacity:0},fadeIn:{opacity:0},transitionOut:"",transitionIn:""},c.classes={isInitiallyHidden:"is-initially-hidden",isHidden:"is-hidden",isActive:"is-active",isVisible:"is-visible",isInserted:"is-inserted",isLoading:"is-loading",isTransitingOut:"is-transiting-out",barbaWrapperId:"gem-wrapper",barbaContainerClass:"gem-container",introSection:".csIntro",contentWrapperClass:".contentWrapper",motionDesignVideos:".motionDesignVideos",browserScreenshots:".browser",mainNavLightClass:"mainNav--light",mainHeaderLightClass:"mainHeader--light",pageIsLight:"pageislight",pathNames:["work","about","contact"],isHomepage:"mainHeader--isHomepage",isTrident:"is-trident"},c.status={assetsLoaded:!0,currentPageType:"",currentPathName:"",currentPageIsDark:!0,isSmallScreen:!0},c.components={mainHeader:document.querySelector(".mainHeader"),mainNavID:document.querySelector("#mainNav"),barbaContainer:document.querySelector("."+c.classes.barbaContainerClass),win:"",barbaID:document.querySelector("#"+c.classes.barbaWrapperId),transAnimator:""},c.updateMainNavToLight=function(e){e?c.components.mainHeader.classList.add(c.classes.mainHeaderLightClass):c.components.mainHeader.classList.remove(c.classes.mainHeaderLightClass)},Barba.Dispatcher.on("linkClicked",function(e,t){"/"==window.location.pathname?e.classList.add(c.classes.isTransitingOut):e.classList.contains("pageNavigation__links")&&e.classList.add(c.classes.isTransitingOut)}),Barba.Dispatcher.on("newPageReady",function(e,t,a){ga("set","page",window.location.pathname),ga("send","pageview"),"light"==a.getAttribute("data-pageislight")?c.status.currentPageIsDark&&(c.status.currentPageIsDark=!1,c.updateMainNavToLight(!0)):c.status.currentPageIsDark||(c.status.currentPageIsDark=!0,c.updateMainNavToLight(!1)),"projectList"==e.namespace?c.components.mainHeader.classList.add(c.classes.isHomepage):c.components.mainHeader.classList.remove(c.classes.isHomepage)}),c.components.barbaLoadTransition=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading]).then(this.slideInNew.bind(this))},slideInNew:function(){var t,e=this,a=this.oldContainer,s=this.newContainer,i=(s.querySelector(c.classes.contentWrapperClass),s.querySelector(c.classes.introSection)),n=new TimelineLite;function r(){e.done(),TweenLite.set(window,{scrollTo:0})}function o(){n.to(a,c.timings.Fast,c.settings.transitionOut).call(r).from(t,c.timings.Normal,c.settings.transitionIn)}null==i?(t=s,o()):imagesLoaded(i,function(e){t=i,o()})}}),Barba.Pjax.getTransition=function(){return c.components.barbaLoadTransition};var e=Barba.BaseView.extend({namespace:"projectList",bLazy:"",onEnterCompleted:function(){var e=document.querySelectorAll("a.project__link");document.querySelector(".projectWrap").addEventListener("click",function(e){Barba.Pjax.transitionProgress&&(e.preventDefault(),e.stopPropagation())}),e.forEach(function(e,t){new TiltFx(e)}),this.bLazy=new Blazy({selector:".lazy",loadInvisible:!0,successClass:"lazyLoaded"})},onLeave:function(){this.bLazy.destroy()}}),t=Barba.BaseView.extend({namespace:"caseStudyView",videoWatchers:"",browserWatchers:"",bLazy:"",onEnterCompleted:function(){var e=document.querySelectorAll(c.classes.browserScreenshots),t=document.querySelectorAll(c.classes.motionDesignVideos);this.bLazy=new Blazy({selector:".lazy",loadInvisible:!0,offset:200,successClass:"lazyLoaded"}),this.browserWatchers=Array.prototype.map.call(e,function(e){var t=scrollMonitor.create(e);return t.enterViewport(function(){e.classList.add(c.classes.isVisible),t.destroy}),t}),this.videoWatchers=Array.prototype.map.call(t,function(e){var t=scrollMonitor.create(e);return t.enterViewport(function(){e.classList.add(c.classes.played),e.paused&&e.play()}),t})},onLeave:function(){this.bLazy.destroy(),this.videoWatchers.forEach(function(e,t){e.destroy()}),this.browserWatchers.forEach(function(e,t){e.destroy()})}});c.init=function(){WebFont.load({google:{families:["Julius Sans One","Ubuntu:300,400,300italic"]}}),Barba.Pjax.Dom.wrapperId=c.classes.barbaWrapperId,Barba.Pjax.Dom.containerClass=c.classes.barbaContainerClass,e.init(),t.init(),Barba.Pjax.init(),isTrident()&&document.documentElement.classList.add(c.classes.isTrident),c.settings.transitionOut=c.settings.fadeOut,c.settings.transitionIn=c.settings.fadeIn,window.matchMedia&&window.matchMedia("only screen and (min-width: 760px)").matches&&(c.status.isSmallScreen=!1,c.settings.transitionOut=c.settings.slideOut,c.settings.transitionIn=c.settings.slideIn),document.querySelector("."+c.classes.barbaContainerClass).getAttribute("data")==c.classes.pageIsLight&&(c.status.currentPageIsDark=!1)},c.init()}();